
<html><head></head><body><h1 id="canvas-constructor">canvas-constructor</h1>
<hr />
<p><a href="https://www.npmjs.com/package/canvas-constructor"><img src="https://img.shields.io/npm/v/canvas-constructor.svg?maxAge=3600" alt="npm"></a><br><a href="https://www.npmjs.com/package/canvas-constructor"><img src="https://img.shields.io/npm/dt/canvas-constructor.svg?maxAge=3600" alt="npm"></a><br><a href="https://travis-ci.org/kyranet/canvasConstructor"><img src="https://travis-ci.org/kyranet/canvasConstructor.svg?branch=master" alt="Build Status"></a><br><a href="https://www.codacy.com/app/kyranet/canvasConstructor?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=kyranet/canvasConstructor&amp;utm_campaign=badger"><img src="https://api.codacy.com/project/badge/Grade/d673cda285b34ce4b8b6601458b29527" alt="Codacy Badge"></a><br><a href="https://raw.githubusercontent.com/kyranet/canvasConstructor/master/LICENSE"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="GitHub license"></a></p>
<p>A ES6 function for node-canvas with built-in functions and chained methods.</p>
<h2 id="installation">Installation</h2>
<p>Please check <a href="https://github.com/Automattic/node-canvas/blob/master/Readme.md#installation">node-canvas readme</a> for the installation. You <strong>must</strong> have Canvas installed and working before using this package.</p>
<hr>
<p>How to use it:</p>
<pre><code class="lang-js">const { Canvas } = require('canvas-constructor');

new Canvas(300, 300)
    .setColor('#AEFD54')
    .addRect(5, 5, 290, 290)
    .setColor('#FFAE23')
    .setTextFont('28px Impact')
    .addText('Hello World!', 130, 150)
    .toBuffer();
</code></pre>
<ul>
<li>That will create a canvas with size of 300 pixels width, 300 pixels height.</li>
<li>Set the colour to #AEFD54</li>
<li>Draw a rectangle with the previous colour, covering all the pixels from (5, 5) to (290 + 5, 290 + 5)</li>
<li>Set the colour to #FFAE23</li>
<li>Set the font size to 28 pixels with font Impact.</li>
<li>Write the text ‘Hello World!’ in the position (130, 150)</li>
<li>Return a buffer.</li>
</ul>
<p>Now, let’s suppose we want to add images. I’d recommend <a href="https://github.com/bdistin/fs-nextra">fs-nextra</a>, by BDISTIN, it requires Node.js 8.5.0 to work (it promisifies the async fs methods with <code>Util.promisify()</code>), it’s a dependency-free and lightweight package that provides support for <strong>atomic operations</strong>.</p>
<pre><code class="lang-js">const { Canvas } = require('canvas-constructor');
const fsn = require('fs-nextra');

async function createCanvas() {
    const image = await fsn.readFile('./images/kitten.png');

    return new Canvas(300, 400)
        .addImage(image, 0, 0, 300, 400)
        .setColor('#FFAE23')
        .setTextFont('28px Impact')
        .setTextAlign('center')
        .addText('Kitten!', 150, 370)
        .toBufferAsync();
}
</code></pre>
<ul>
<li>That will create a canvas with size of 300 pixels width, 400 pixels height.</li>
<li>Draw an image, given a Buffer (the image from the images folder).</li>
<li>Set the colour to #FFAE23</li>
<li>Set the font size to 28 pixels with font Impact.</li>
<li>Set the text alignment to center.</li>
<li>Write the text ‘Kitten!’ in the position (150, 370)</li>
<li>Return a buffer.</li>
</ul>
<p>And now, you have created an image with a kitten in the background and some centered text in the bottom of it.</p>
<p>If you experience issues with <strong>Canvas</strong> or want to install it, please refer to the <a href="https://www.npmjs.com/package/canvas">canvas</a> repository, if you feel you found an issue in this package, feel free to file an issue <a href="https://github.com/kyranet/canvasConstructor/issues">here</a>, or make a <a href="https://help.github.com/articles/about-pull-requests/">Pull Request</a> if you have the fix.</p>
</body></html>